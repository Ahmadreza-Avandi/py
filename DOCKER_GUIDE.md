# راهنمای اجرای سیستم تشخیص چهره با داکر

## مقدمه
این راهنما نحوه اجرای سیستم تشخیص چهره را با استفاده از Docker و Docker Compose توضیح می‌دهد. با استفاده از این روش، می‌توانید به راحتی و با یک دستور ساده، کل سیستم را راه‌اندازی کنید.

## پیش‌نیازها
- نصب Docker
- نصب Docker Compose

## روش اجرا

### اجرا با تنظیمات پیش‌فرض
برای اجرای سیستم با تنظیمات پیش‌فرض، کافی است دستور زیر را اجرا کنید:

```bash
docker-compose up -d
```

این دستور سیستم را با مقادیر پیش‌فرض راه‌اندازی می‌کند.

### اجرا با تنظیمات سفارشی
برای تغییر تنظیمات پیش‌فرض، می‌توانید از متغیرهای محیطی استفاده کنید. برای مثال:

```bash
# اجرا با تنظیمات سفارشی
MYSQL_HOST=192.168.1.100 MYSQL_PASSWORD=my_secure_password REDIS_PASSWORD=redis_secure_password docker-compose up -d
```

### اجرا بدون دوربین
اگر دوربین ندارید یا نمی‌خواهید از آن استفاده کنید:

```bash
USE_CAMERA=false docker-compose up -d
```

### اجرا با دوربین در مسیر متفاوت
اگر دوربین شما در مسیر متفاوتی قرار دارد:

```bash
CAMERA_DEVICE=/dev/video1 docker-compose up -d
```

### تغییر پورت
برای تغییر پورت پیش‌فرض:

```bash
PORT=9090 docker-compose up -d
```

## متغیرهای محیطی قابل تنظیم

| متغیر | توضیحات | مقدار پیش‌فرض |
|-------|---------|---------------|
| `MYSQL_HOST` | آدرس سرور MySQL | `91.107.165.2` |
| `MYSQL_DATABASE` | نام پایگاه داده | `mydatabase` |
| `MYSQL_USER` | نام کاربری MySQL | `user` |
| `MYSQL_PASSWORD` | رمز عبور MySQL | `your_password` |
| `REDIS_HOST` | آدرس سرور Redis | `91.107.165.2` |
| `REDIS_PORT` | پورت Redis | `6379` |
| `REDIS_PASSWORD` | رمز عبور Redis | `your_redis_password` |
| `LOG_LEVEL` | سطح لاگ | `INFO` |
| `USE_CAMERA` | استفاده از دوربین | `false` |
| `CAMERA_DEVICE` | مسیر دستگاه دوربین | `/dev/video0` |
| `PORT` | پورت برنامه | `8080` |

## مشاهده لاگ‌ها
برای مشاهده لاگ‌های برنامه:

```bash
docker-compose logs -f
```

## توقف سیستم
برای متوقف کردن سیستم:

```bash
docker-compose down
```

## نکات مهم
- اگر دوربین در سیستم شما موجود نیست، حتماً از متغیر `USE_CAMERA=false` استفاده کنید.
- برای محیط‌های تولید، حتماً رمزهای عبور امن تنظیم کنید.
- فایل‌های لاگ در پوشه `logs` و داده‌های آموزشی در پوشه `trainer` ذخیره می‌شوند.